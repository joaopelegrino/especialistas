# üìö Estrutura Padr√£o Claude Code - √çndice de Documenta√ß√£o

> Template completo para context engineering otimizado com Claude Code

## üö¶ In√≠cio R√°pido

**Novo usu√°rio?** Siga esta ordem:

1. üìñ **[CHEATSHEET.md](./CHEATSHEET.md)** ‚Üê Comece aqui!
   - Refer√™ncia r√°pida de todos os comandos
   - Padr√µes de uso comuns
   - 5 minutos de leitura

2. üöÄ **[README.md](./README.md)**
   - Documenta√ß√£o completa
   - Quick start detalhado
   - 15-20 minutos de leitura

3. ‚öôÔ∏è **Instala√ß√£o**
   ```bash
   ./install.sh /path/to/your/project
   ./validate.sh /path/to/your/project
   ```

4. ‚úÖ **Teste**
   ```bash
   cd /path/to/your/project
   claude
   /prime
   /scout "find main entry point"
   ```

## üìÇ Estrutura de Arquivos

### üìÑ Documenta√ß√£o Principal

| Arquivo | Prop√≥sito | Quando Ler |
|---------|-----------|------------|
| **[INDEX.md](./INDEX.md)** | Este arquivo - √≠ndice de toda documenta√ß√£o | In√≠cio |
| **[README.md](./README.md)** | Documenta√ß√£o completa e detalhada | Primeiro uso |
| **[CHEATSHEET.md](./CHEATSHEET.md)** | Refer√™ncia r√°pida de comandos e padr√µes | Uso di√°rio |
| **[MIGRATION.md](./MIGRATION.md)** | Guia de migra√ß√£o para projetos existentes | Migra√ß√£o |

### üõ†Ô∏è Scripts e Configura√ß√£o

| Arquivo | Prop√≥sito | Quando Usar |
|---------|-----------|-------------|
| **[install.sh](./install.sh)** | Instala√ß√£o automatizada | Setup inicial |
| **[validate.sh](./validate.sh)** | Valida√ß√£o da instala√ß√£o | Ap√≥s instalar, debugging |
| **[settings.json.example](./settings.json.example)** | Exemplo de configura√ß√£o | Refer√™ncia |
| **[CLAUDE.md.example](./CLAUDE.md.example)** | Template de CLAUDE.md m√≠nimo | Criar CLAUDE.md |

### üìÅ Components

| Diret√≥rio | Conte√∫do | Arquivos |
|-----------|----------|----------|
| **[commands/](./commands/)** | Slash commands customizados | 9 arquivos .md |
| **[agents/](./agents/)** | Defini√ß√µes de sub-agents | 3 arquivos .yaml |
| **[hooks/](./hooks/)** | Scripts de automa√ß√£o | 1 .sh + README |

## üó∫Ô∏è Guia por Persona

### üë§ Sou Novo no Claude Code

**Rota de aprendizado**:

1. **Conceitos b√°sicos** (30 min)
   - Leia: [CHEATSHEET.md](./CHEATSHEET.md) se√ß√£o "Quick Reference"
   - Entenda: O que s√£o commands, agents, hooks

2. **Primeira instala√ß√£o** (15 min)
   - Execute: `./install.sh .`
   - Execute: `./validate.sh .`
   - Teste: `claude` ‚Üí `/prime` ‚Üí `/scout "test"`

3. **Pr√°tica guiada** (60 min)
   - Siga: [README.md](./README.md) se√ß√£o "Usage Patterns"
   - Experimente: Cada padr√£o (New Feature, Bug Fix, etc.)

4. **Profici√™ncia** (uso cont√≠nuo)
   - Tenha aberto: [CHEATSHEET.md](./CHEATSHEET.md)
   - Consulte: Quando esquecer sintaxe de comando

### üë§ J√° Uso Claude Code (Migrando)

**Rota de migra√ß√£o**:

1. **Entenda os benef√≠cios** (10 min)
   - Leia: [MIGRATION.md](./MIGRATION.md) se√ß√£o "Antes vs Depois"
   - Compare: Sua estrutura atual vs otimizada

2. **Planeje a migra√ß√£o** (15 min)
   - Leia: [MIGRATION.md](./MIGRATION.md) completo
   - Checklist: Anote o que precisa fazer

3. **Execute a migra√ß√£o** (30-60 min)
   - Siga: [MIGRATION.md](./MIGRATION.md) passo a passo
   - Valide: `./validate.sh .`

4. **Aprenda novos workflows** (60 min)
   - Leia: [README.md](./README.md) se√ß√£o "Usage Patterns"
   - Compare: Como voc√™ fazia vs como fazer agora

### üë§ Sou Tech Lead (Ado√ß√£o em Time)

**Rota de ado√ß√£o**:

1. **Avalie a estrutura** (30 min)
   - Leia: [README.md](./README.md) se√ß√£o "Context Efficiency Metrics"
   - Analise: ROI e benef√≠cios para o time

2. **Fa√ßa POC** (2-4 horas)
   - Instale: Em um projeto piloto
   - Teste: Com 1-2 desenvolvedores
   - Me√ßa: Context usage antes/depois

3. **Customize** (2-4 horas)
   - Adapte: Commands e agents para seu dom√≠nio
   - Crie: Primes espec√≠ficos do projeto
   - Documente: Padr√µes internos

4. **Rollout** (1-2 semanas)
   - Treine: Demo de 30 min + [CHEATSHEET.md](./CHEATSHEET.md)
   - Suporte: Monitore ado√ß√£o, ajude com d√∫vidas
   - Itere: Refine baseado em feedback

## üìö Refer√™ncia Detalhada

### Commands (Slash Commands)

Todos em `commands/`:

| Comando | Descri√ß√£o | Documenta√ß√£o |
|---------|-----------|--------------|
| `/scout` | Busca paralela com 4 sub-agents | [commands/scout.md](./commands/scout.md) |
| `/plan-with-docs` | Planejamento com fetch de docs | [commands/plan-with-docs.md](./commands/plan-with-docs.md) |
| `/build` | Implementa√ß√£o sistem√°tica | [commands/build.md](./commands/build.md) |
| `/scout-plan-build` | Workflow completo | [commands/scout-plan-build.md](./commands/scout-plan-build.md) |
| `/prime` | Context loading geral | [commands/prime.md](./commands/prime.md) |
| `/prime-bug` | Context para debugging | [commands/prime-bug.md](./commands/prime-bug.md) |
| `/prime-feature` | Context para features | [commands/prime-feature.md](./commands/prime-feature.md) |
| `/prime-migration` | Context para migra√ß√µes | [commands/prime-migration.md](./commands/prime-migration.md) |
| `/load-bundle` | Restore session state | [commands/load-bundle.md](./commands/load-bundle.md) |

### Agents (Sub-agents)

Todos em `agents/`:

| Agent | Modelo | Purpose | Documenta√ß√£o |
|-------|--------|---------|--------------|
| `scout-search` | Haiku | Fast parallel search | [agents/scout-search.yaml](./agents/scout-search.yaml) |
| `code-reviewer` | Sonnet | Code quality review | [agents/code-reviewer.yaml](./agents/code-reviewer.yaml) |
| `security-auditor` | Sonnet | Security assessment | [agents/security-auditor.yaml](./agents/security-auditor.yaml) |

### Hooks (Automation)

Todos em `hooks/`:

| Hook | Trigger | Purpose | Documenta√ß√£o |
|------|---------|---------|--------------|
| `log-to-bundle.sh` | PostToolUse | Context bundle logging | [hooks/README.md](./hooks/README.md) |

## üéì Conceitos-Chave

### Context Engineering

**O problema**: Claude Code tem limite de 200K tokens de contexto.

**A solu√ß√£o**: T√©cnicas para usar contexto eficientemente:

1. **Context Priming (JIT Loading)**
   - Carregar contexto just-in-time com `/prime-*`
   - Ao inv√©s de tudo upfront no CLAUDE.md
   - üìñ Leia: [CHEATSHEET.md](./CHEATSHEET.md) se√ß√£o "Prime Commands"

2. **Context Isolation (Sub-agents)**
   - Delegar trabalho pesado para sub-agents
   - Cada sub-agent tem seu pr√≥prio contexto 200K
   - Sub-agent retorna apenas summary (~2K)
   - üìñ Leia: [README.md](./README.md) se√ß√£o "Agents Inclu√≠dos"

3. **Context Bundles (State Recovery)**
   - Log autom√°tico de tool calls
   - Permite `/load-bundle` para restaurar sess√£o
   - 70% state recovery
   - üìñ Leia: [hooks/README.md](./hooks/README.md)

4. **File-Based State Transfer**
   - Fases se comunicam via arquivos, n√£o contexto
   - `relevant_files.md` ‚Üí `detailed_plan.md` ‚Üí code
   - üìñ Leia: [CHEATSHEET.md](./CHEATSHEET.md) se√ß√£o "File Formats"

### Workflows

**Scout-Plan-Build Pattern** - Pipeline de 3 fases:

```
Scout ‚Üí Plan ‚Üí Build
  ‚Üì       ‚Üì       ‚Üì
Files   Plan    Code
```

1. **Scout**: 4 sub-agents buscam em paralelo
2. **Plan**: Main agent cria plano detalhado
3. **Build**: Main agent implementa sistematicamente

**Efici√™ncia**: 230K trabalho feito, 78K context usado (39%)

üìñ Leia: [README.md](./README.md) se√ß√£o "Scout-Plan-Build"

### Context Management Strategy

| Context Level | Action |
|---------------|--------|
| < 50% | Keep working normally |
| 50-70% | Monitor with `/context` |
| 70-85% | Plan to clear soon |
| > 85% | **Clear now!** `/clear` ‚Üí `/load-bundle` |

üìñ Leia: [CHEATSHEET.md](./CHEATSHEET.md) se√ß√£o "Context Management"

## üîß Customiza√ß√£o

### Criar Command Customizado

```bash
nano .claude/commands/my-command.md
```

```markdown
---
description: What my command does
argument-hint: <optional args>
---

# My Command

[Command implementation]
[Can use other commands, spawn agents, etc.]
```

üìñ Leia: [README.md](./README.md) se√ß√£o "Adding New Commands"

### Criar Agent Customizado

```bash
nano .claude/agents/my-agent.yaml
```

```yaml
---
name: my-agent
description: What my agent does
model: haiku|sonnet|opus
tools: Tool1, Tool2
---

System prompt defining agent behavior.
Must return condensed summary (not full data).
```

üìñ Leia: [README.md](./README.md) se√ß√£o "Adding New Agents"

### Modificar Hook

```bash
nano .claude/hooks/log-to-bundle.sh
```

- Adicionar filtros de tools
- Incluir metadata extra
- Notifica√ß√µes
- etc.

üìñ Leia: [hooks/README.md](./hooks/README.md) se√ß√£o "Customiza√ß√£o"

## üìä M√©tricas e ROI

### Efici√™ncia de Contexto

| M√©trica | Tradicional | Com Estrutura | Melhoria |
|---------|-------------|---------------|----------|
| Context usage | 150K (75%) | 78K (39%) | **68% redu√ß√£o** |
| Upfront loading | 15K tokens | 1K tokens | **93% redu√ß√£o** |
| Work accomplished | 100K tokens | 230K tokens | **130% mais** |
| State recovery | 0% | 70% | **‚àû melhoria** |
| Audit trail | None | Complete | **‚àû melhoria** |

### ROI para Times

**Investimento**:
- Setup inicial: 1-2 horas
- Learning curve: 2-4 horas por dev
- Customiza√ß√£o: 2-4 horas

**Retorno**:
- Menos context overflows ‚Üí Menos retrabalho
- State recovery ‚Üí Continue ap√≥s interrup√ß√µes
- Workflows estruturados ‚Üí Mais consist√™ncia
- Audit trail ‚Üí Melhor debugging e docs

**Breakeven**: Tipicamente ap√≥s 1-2 semanas de uso.

## üêõ Troubleshooting

### Problema Comum ‚Üí Onde Buscar Solu√ß√£o

| Problema | Onde Procurar |
|----------|---------------|
| Commands n√£o aparecem | [README.md](./README.md) se√ß√£o "Troubleshooting" |
| Hooks n√£o executam | [hooks/README.md](./hooks/README.md) se√ß√£o "Troubleshooting" |
| Context ainda alto | [MIGRATION.md](./MIGRATION.md) se√ß√£o "Troubleshooting" |
| Agents n√£o funcionam | [README.md](./README.md) se√ß√£o "Agents Not Working" |
| Bundles n√£o criam | [hooks/README.md](./hooks/README.md) se√ß√£o "Bundle N√£o Criando" |
| Migra√ß√£o com problemas | [MIGRATION.md](./MIGRATION.md) se√ß√£o "Troubleshooting da Migra√ß√£o" |

**Valida√ß√£o geral**:
```bash
./validate.sh .
```

## ü§ù Contribuindo

Para melhorar esta estrutura:

1. Teste em seu projeto real
2. Identifique patterns ou pain points
3. Crie commands/agents para resolver
4. Documente e compartilhe

## üìû Suporte

1. **Documenta√ß√£o**: Leia arquivos relevantes acima
2. **Valida√ß√£o**: Execute `./validate.sh .`
3. **Debugging**: Revise context bundles em `.agents/context-bundles/`

## üó∫Ô∏è Roadmap

Futuras melhorias potenciais:

- [ ] Commands adicionais para CI/CD integration
- [ ] Agents especializados (DB, testing, security deep-dive)
- [ ] Templates de CLAUDE.md para stacks populares
- [ ] Scripts de analytics para context usage
- [ ] Integration com issue trackers

## üìù Versioning

**Vers√£o Atual**: 1.0.0

**Compatibilidade**: Claude Code 2.0+

**Changelog**:
- 1.0.0 (2025-10-07): Release inicial

## üéØ Quick Links

### Para Come√ßar Agora
- üöÄ [Quick Start](./README.md#-quick-start)
- üìñ [Cheatsheet](./CHEATSHEET.md)
- ‚öôÔ∏è [Install Script](./install.sh)

### Para Aprender
- üìö [Complete README](./README.md)
- üéì [Usage Patterns](./README.md#-usage-patterns)
- üìä [Context Metrics](./README.md#-context-efficiency-metrics)

### Para Migrar
- üîÑ [Migration Guide](./MIGRATION.md)
- ‚úÖ [Validation Script](./validate.sh)
- üìã [Migration Checklist](./MIGRATION.md#-checklist-de-migra√ß√£o)

### Refer√™ncia
- üíª [Commands Reference](./CHEATSHEET.md#-commands)
- ü§ñ [Agents Reference](./CHEATSHEET.md#-agents)
- ü™ù [Hooks Reference](./hooks/README.md)
- ‚öôÔ∏è [Settings Example](./settings.json.example)

---

**üöÄ Comece agora**: `./install.sh . && ./validate.sh . && claude`

**‚ùì D√∫vidas**: Consulte [README.md](./README.md) ou [CHEATSHEET.md](./CHEATSHEET.md)

**‚ú® Bom trabalho com Claude Code!**
